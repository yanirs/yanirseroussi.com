<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hackers beware: Bootstrap sampling may be harmful | Yanir Seroussi | Data & AI for Startup Impact</title>
<meta name=keywords content="bootstrapping,data science,hackers,software engineering,statistics"><meta name=description content="Bootstrap sampling has been promoted as an easy way of modelling uncertainty to hackers without much statistical knowledge. But things aren&rsquo;t that simple."><meta name=author content="Yanir Seroussi"><link rel=canonical href=https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/><meta name=google-site-verification content="aWlue7NGcj4dQpjOKJF7YKiAvw3JuHnq6aFqX6VwWAU"><link crossorigin=anonymous href=/assets/css/stylesheet.7d100fb77f29fb486fe457f33557e8cb59be0ee9b41107b079d00b3b4e52b30b.css integrity="sha256-fRAPt38p+0hv5FfzNVfoy1m+Dum0EQewedALO05Ssws=" rel="preload stylesheet" as=style><link rel=icon href=https://yanirseroussi.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yanirseroussi.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yanirseroussi.com/favicon-32x32.png><link rel=apple-touch-icon href=https://yanirseroussi.com/apple-touch-icon.png><link rel=mask-icon href=https://yanirseroussi.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/"><meta property="og:site_name" content="Yanir Seroussi | Data & AI for Startup Impact"><meta property="og:title" content="Hackers beware: Bootstrap sampling may be harmful"><meta property="og:description" content="Bootstrap sampling has been promoted as an easy way of modelling uncertainty to hackers without much statistical knowledge. But things aren’t that simple."><meta property="og:locale" content="en-au"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-01-07T21:07:56+00:00"><meta property="article:modified_time" content="2024-01-16T09:56:03+10:00"><meta property="article:tag" content="Bootstrapping"><meta property="article:tag" content="Data Science"><meta property="article:tag" content="Hackers"><meta property="article:tag" content="Software Engineering"><meta property="article:tag" content="Statistics"><meta property="og:image" content="https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs.jpg"><meta name=twitter:title content="Hackers beware: Bootstrap sampling may be harmful"><meta name=twitter:description content="Bootstrap sampling has been promoted as an easy way of modelling uncertainty to hackers without much statistical knowledge. But things aren&rsquo;t that simple."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Browse Posts","item":"https://yanirseroussi.com/posts/"},{"@type":"ListItem","position":2,"name":"Hackers beware: Bootstrap sampling may be harmful","item":"https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hackers beware: Bootstrap sampling may be harmful","name":"Hackers beware: Bootstrap sampling may be harmful","description":"Bootstrap sampling has been promoted as an easy way of modelling uncertainty to hackers without much statistical knowledge. But things aren\u0026rsquo;t that simple.","keywords":["bootstrapping","data science","hackers","software engineering","statistics"],"articleBody":"Bootstrap sampling techniques are very appealing, as they don’t require knowing much about statistics and opaque formulas. Instead, all one needs to do is resample the given data many times, and calculate the desired statistics. Therefore, bootstrapping has been promoted as an easy way of modelling uncertainty to hackers who don’t have much statistical knowledge. For example, the main thesis of the excellent Statistics for Hackers talk by Jake VanderPlas is: “If you can write a for-loop, you can do statistics”. Similar ground was covered by Erik Bernhardsson in The Hacker’s Guide to Uncertainty Estimates, which provides more use cases for bootstrapping (with code examples). However, I’ve learned in the past few weeks that there are quite a few pitfalls in bootstrapping. Much of what I’ve learned is summarised in a paper titled What Teachers Should Know about the Bootstrap: Resampling in the Undergraduate Statistics Curriculum by Tim Hesterberg. I doubt that many hackers would be motivated to read a paper with such a title, so my goal with this post is to make some of my discoveries more accessible to a wider audience. To learn more about the issues raised in this post, it’s worth reading Hesterberg’s paper and other linked resources.\nFor quick reference, here’s a summary of the advice in this post:\nUse an accurate method for estimating confidence intervals Use enough resamples – at least 10-15K Don’t compare confidence intervals visually Ensure that the basic assumptions apply to your situation Pitfall #1: Inaccurate confidence intervals Confidence intervals are a common way of quantifying the uncertainty in an estimate of a population parameter. The percentile method is one of the simplest bootstrapping approaches for generating confidence intervals. For example, let’s say we have a data sample of size n and we want to estimate a 95% confidence interval for the population mean. We take r bootstrap resamples from the original data sample, where each resample is a sample with replacement of size n. We calculate the mean of each resample and store the means in a sorted array. We then return the 95% confidence interval as the values that fall at the 0.025r and 0.975r indices of the sorted array (i.e., the 2.5% and 97.5% percentiles). The following table shows what the first two resamples may look like for a data sample of size n=5.\nOriginal sample Resample #1 Resample #2 … Values 10 30 20 … 12 20 20 20 12 30 30 12 30 45 45 30 Mean 23.4 23.8 26 … The percentile method is nice and simple. Any programmer should be able to easily implement it in their favourite programming language, assuming they can actually program. Unfortunately, this method is just not accurate enough for small sample sizes. Quoting Hesterberg (emphasis mine):\nThe sample sizes needed for different intervals to satisfy the “reasonably accurate” (off by no more than 10% on each side) criterion are: n ≥ 101 for the bootstrap t, 220 for the skewness-adjusted t statistic, 2,235 for expanded percentile, 2,383 for percentile, 4,815 for ordinary t (which I have rounded up to 5,000 above), 5,063 for t with bootstrap standard errors and something over 8,000 for the reverse percentile method.\nIn a shorter version of the paper cited above, Hesterberg concludes that:\nIn practice, implementing some of the more accurate bootstrap methods is difficult (especially those not described here), and people should use a package rather than attempt this themselves.\nIn short, make sure you’re using an accurate method for estimating confidence intervals when dealing with sample sizes of less than a few thousand values. Using a package is a great idea, but unfortunately I don’t know of any Python bootstrapping package that is feature-complete: ARCH and scikits-bootstrap support advanced confidence interval methods but don’t support analysis of two samples of uneven sizes, while bootstrapped works with samples of uneven sizes but only supports the percentile and the reverse percentile method (which Hesterberg found to be even less accurate). If you know of any better Python packages, please let me know! (I don’t use R, but I suspect the situation is better there). Update: ARCH now supports analysis of samples of uneven sizes following an issue I reported. It seems to be the best Python bootstrapping package, so I recommend using it.\nPitfall #2: Not enough resamples Accurate bootstrap estimates require a large number of resamples. Many code snippets use 1,000 resamples, probably because it looks like a large number. However, seeming large isn’t enough. Quoting Hesterberg again:\nFor both the bootstrap and permutation tests, the number of resamples needs to be 15,000 or more, for 95% probability that simulation-based one-sided levels fall within 10% of the true values, for 95% intervals and 5% tests. I recommend r = 10,000 for routine use, and more when accuracy matters.\n[…]\nWe want decisions to depend on the data, not random variation in the Monte Carlo implementation. We used r = 500,000 in the Verizon project.\nThat’s right, half a million resamples! Accuracy mattered in the Verizon case, as the results of the analysis determined whether large penalties were paid or not. In short, use at least 10-15,000 resamples to be safe. Don’t use 1,000.\nPitfall #3: Comparison of single-sample confidence intervals Confidence intervals are commonly used to decide if the difference between two samples is statistically significant. Bootstrapping provides a straightforward way of estimating confidence intervals without making assumptions about the way the data was generated. For example, given two samples, we can obtain confidence intervals for the mean of each sample and end up with a plot like this:\nWhen looking at this plot, some people may conclude that the difference between the groups isn’t statistically significant because the confidence intervals overlap. However, overlapping confidence intervals don’t imply a lack of statistical significance because it is possible for the confidence interval of the difference between the sample means to not contain zero. Prasanna Parasurama explained why this happens in this post. While this issue isn’t unique to bootstrapping, it’s worth remembering that when comparing two groups, we need to obtain the confidence interval for the difference in the parameter we’re comparing, not compare single-sample confidence intervals.\nFor a concrete example, consider a case where we’re looking at a binary outcomes (yes/no or 1/0), which occur in coin flips or online A/B tests. Sample A consists of 2,150 zeroes and 350 ones, while sample B consists of 2,250 zeroes and 440 ones. As these are fairly large samples, we can use the bootstrap percentile method to obtain 95% confidence intervals for the mean of each sample. As the following figure shows, these intervals overlap. If we use the same method to also obtain a 95% confidence interval for the difference in means between B and A, we see that it doesn’t include zero. Therefore, we can say that the difference between B and A is statistically significant, despite the overlap between the single-sample confidence intervals.\nIt’s worth noting that when analysing binary outcomes, we can make stronger assumptions about the data rather than use bootstrapping to obtain confidence intervals. Erik Bernhardsson suggests using the Beta distribution to obtain single-sample confidence intervals, but as we’ve seen, they don’t tell us enough about the differences between samples. I suggested using a Bayesian approach in the past, which makes explicit modelling assumptions that allow us to encode our prior knowledge on the specific environment where the data was generated. For example, when running online A/B tests, we often have a ballpark figure for reasonable results, which can be used in the Bayesian A/B testing calculator I built.\nPitfall #4: Unrepresentative and dependent samples While the basic bootstrap makes no assumption about the underlying distribution of the data, it is not assumption-free. For example, when dealing with correlated data points from a time series, using the basic bootstrapping approach is wrong because it assumes that the data points are independent. Instead, a block bootstrap should be used – see the ARCH package for some implementation examples. In addition, bootstrapping doesn’t solve problems with the underlying sampling approach. For example, the data sample may not be representative of the population because of its small size, or there may be selection biases and measurement errors. No amount of bootstrapping is going to help with such issues. In general, it always helps to be aware of the data’s generation process, e.g., different considerations apply when dealing with data from online experiments versus observational studies.\nConclusion and next steps While bootstrapping is a powerful method, its initial impression of simplicity is misleading. To draw valid conclusions, it’s a good idea to use a package and be aware of considerations that are specific to the analysed data sample. However, if you’re already increasing your awareness of the data and its generation process, it may make sense to explicitly encode your assumptions in the model. This is where another hacker resource would come in handy: Probabilistic Programming \u0026 Bayesian Methods for Hackers by Cam Davidson-Pilon. Admittedly, it’s a bit longer than the average blog post or conference talk, but it is worth reading.\nGoing down the bootstrapping rabbit hole has reminded me of an important lesson: Blog posts and talks – especially ones with the word hacker in the title – may be a good starting point, but they shouldn’t be relied on for serious work. Instead, it is better to consult peer-reviewed resources and textbooks, such as the references listed in ARCH’s documentation. In my future explorations of bootstrapping and other methods, I will heed Abraham Lincoln’s timeless advice to not trust everything I read on the internet.\nUpdate (Oct 2019): I published a post summarising a talk I gave on the topic, complete with simulation code that illustrates the issues with some bootstrapping algorithms.\n","wordCount":"1625","inLanguage":"en","image":"https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs.jpg","datePublished":"2019-01-07T21:07:56Z","dateModified":"2024-01-16T09:56:03+10:00","author":{"@type":"Person","name":"Yanir Seroussi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/"},"publisher":{"@type":"Organization","name":"Yanir Seroussi | Data \u0026 AI for Startup Impact","logo":{"@type":"ImageObject","url":"https://yanirseroussi.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yanirseroussi.com/ accesskey=h title="Yanir Seroussi | Data & AI for Startup Impact (Alt + H)">Yanir Seroussi | Data & AI for Startup Impact</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><button id=menu-trigger aria-haspopup=menu aria-label="Menu Button"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><ul class="menu hidden"><li><a href=https://yanirseroussi.com/about/ title=About><span>About</span></a></li><li><a href=https://yanirseroussi.com/posts/ title=Writing><span>Writing</span></a></li><li><a href=https://yanirseroussi.com/talks/ title=Speaking><span>Speaking</span></a></li><li><a href=https://yanirseroussi.com/consult/ title=Consulting><span>Consulting</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Hackers beware: Bootstrap sampling may be harmful</h1><div class=post-meta><span title='2019-01-07 21:07:56 +0000 UTC'>January 7, 2019</span></div></header><figure class=entry-cover><img loading=eager srcset='https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs_hu_968de537eca3ae8d.jpg 360w,https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs_hu_5c3bb32bb02c3ca4.jpg 480w,https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs_hu_989ba64af1b75ffa.jpg 720w,https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs_hu_668c80f6795ba683.jpg 1080w,https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs_hu_347003fc478ff8be.jpg 1500w,https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs.jpg 3531w' src=https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/warning-signs.jpg sizes="(min-width: 768px) 720px, 100vw" width=3531 height=1200 alt></figure><div class=post-content><p><a href=https://en.wikipedia.org/wiki/Bootstrapping_%28statistics%29 target=_blank rel=noopener>Bootstrap sampling techniques</a> are very appealing, as they don&rsquo;t require knowing much about statistics and opaque formulas. Instead, all one needs to do is resample the given data many times, and calculate the desired statistics. Therefore, bootstrapping has been promoted as an easy way of modelling uncertainty to hackers who don&rsquo;t have much statistical knowledge. For example, the main thesis of the excellent <a href=https://speakerdeck.com/jakevdp/statistics-for-hackers target=_blank rel=noopener><em>Statistics for Hackers</em></a> talk by Jake VanderPlas is: <em>&ldquo;If you can write a for-loop, you can do statistics&rdquo;</em>. Similar ground was covered by Erik Bernhardsson in <a href=https://erikbern.com/2018/10/08/the-hackers-guide-to-uncertainty-estimates.html target=_blank rel=noopener><em>The Hacker&rsquo;s Guide to Uncertainty Estimates</em></a>, which provides more use cases for bootstrapping (with code examples). However, I&rsquo;ve learned in the past few weeks that there are quite a few pitfalls in bootstrapping. Much of what I&rsquo;ve learned is summarised in a paper titled <a href=https://arxiv.org/abs/1411.5279 target=_blank rel=noopener><em>What Teachers Should Know about the Bootstrap: Resampling in the Undergraduate Statistics Curriculum</em></a> by Tim Hesterberg. I doubt that many hackers would be motivated to read a paper with such a title, so my goal with this post is to make some of my discoveries more accessible to a wider audience. To learn more about the issues raised in this post, it&rsquo;s worth reading Hesterberg&rsquo;s paper and other linked resources.</p><p>For quick reference, here&rsquo;s a summary of the advice in this post:</p><ul><li>Use an accurate method for estimating confidence intervals</li><li>Use enough resamples – at least 10-15K</li><li>Don&rsquo;t compare confidence intervals visually</li><li>Ensure that the basic assumptions apply to your situation</li></ul><h2 id=pitfall-1-inaccurate-confidence-intervals>Pitfall #1: Inaccurate confidence intervals<a hidden class=anchor aria-hidden=true href=#pitfall-1-inaccurate-confidence-intervals>#</a></h2><p><a href=https://en.wikipedia.org/wiki/Confidence_interval target=_blank rel=noopener>Confidence intervals</a> are a common way of quantifying the uncertainty in an estimate of a population parameter. The percentile method is one of the simplest bootstrapping approaches for generating confidence intervals. For example, let&rsquo;s say we have a data sample of size <code>n</code> and we want to estimate a 95% confidence interval for the population mean. We take <code>r</code> bootstrap <em>resamples</em> from the original data sample, where each resample is a sample with replacement of size <code>n</code>. We calculate the mean of each resample and store the means in a sorted array. We then return the 95% confidence interval as the values that fall at the <code>0.025r</code> and <code>0.975r</code> indices of the sorted array (i.e., the 2.5% and 97.5% percentiles). The following table shows what the first two resamples may look like for a data sample of size <code>n=5</code>.</p><table><thead><tr><th></th><th>Original sample</th><th>Resample #1</th><th>Resample #2</th><th>&mldr;</th></tr></thead><tbody><tr><td><strong>Values</strong></td><td>10</td><td>30</td><td>20</td><td>&mldr;</td></tr><tr><td></td><td>12</td><td>20</td><td>20</td><td></td></tr><tr><td></td><td>20</td><td>12</td><td>30</td><td></td></tr><tr><td></td><td>30</td><td>12</td><td>30</td><td></td></tr><tr><td></td><td>45</td><td>45</td><td>30</td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr><tr><td><strong>Mean</strong></td><td><em>23.4</em></td><td><em>23.8</em></td><td><em>26</em></td><td><em>&mldr;</em></td></tr></tbody></table><p>The percentile method is nice and simple. Any programmer should be able to easily implement it in their favourite programming language, assuming <a href=https://blog.codinghorror.com/why-cant-programmers-program/ target=_blank rel=noopener>they can actually program</a>. Unfortunately, <strong>this method is just not accurate enough for small sample sizes</strong>. Quoting Hesterberg (emphasis mine):</p><blockquote><p>The sample sizes needed for different intervals to satisfy the &ldquo;reasonably accurate&rdquo; (off by no more than 10% on each side) criterion are: n ≥ 101 for the bootstrap t, 220 for the skewness-adjusted t statistic, 2,235 for expanded percentile, <b style=font-weight:700>2,383 for percentile</b>, 4,815 for ordinary t (which I have rounded up to 5,000 above), 5,063 for t with bootstrap standard errors and something over 8,000 for the reverse percentile method.</p></blockquote><p>In <a href=https://storage.googleapis.com/pub-tools-public-publication-data/pdf/44859.pdf target=_blank rel=noopener>a shorter version of the paper cited above</a>, Hesterberg concludes that:</p><blockquote><p>In practice, implementing some of the more accurate bootstrap methods is difficult (especially those not described here), and people should use a package rather than attempt this themselves.</p></blockquote><p>In short, <strong>make sure you&rsquo;re using an accurate method for estimating confidence intervals when dealing with sample sizes of less than a few thousand values</strong>. Using a package is a great idea, but unfortunately I don&rsquo;t know of any Python bootstrapping package that is feature-complete: <a href=https://github.com/bashtage/arch/ target=_blank rel=noopener>ARCH</a> and <a href=https://github.com/cgevans/scikits-bootstrap/ target=_blank rel=noopener>scikits-bootstrap</a> support advanced confidence interval methods but don&rsquo;t support analysis of two samples of uneven sizes, while <a href=https://github.com/facebookincubator/bootstrapped/ target=_blank rel=noopener>bootstrapped</a> works with samples of uneven sizes but only supports the percentile and the reverse percentile method (which Hesterberg found to be even less accurate). If you know of any better Python packages, please let me know! (I don&rsquo;t use R, but I suspect the situation is better there). <strong>Update</strong>: <a href=https://github.com/bashtage/arch/releases/tag/4.8.0 target=_blank rel=noopener>ARCH now supports</a> analysis of samples of uneven sizes <a href=https://github.com/bashtage/arch/issues/260 target=_blank rel=noopener>following an issue I reported</a>. It seems to be the best Python bootstrapping package, so I recommend using it.</p><h2 id=pitfall-2-not-enough-resamples>Pitfall #2: Not enough resamples<a hidden class=anchor aria-hidden=true href=#pitfall-2-not-enough-resamples>#</a></h2><p>Accurate bootstrap estimates require a large number of resamples. Many code snippets use 1,000 resamples, probably because it looks like a large number. However, <em>seeming</em> large isn&rsquo;t enough. Quoting Hesterberg again:</p><blockquote><p>For both the bootstrap and permutation tests, the number of resamples needs to be 15,000 or more, for 95% probability that simulation-based one-sided levels fall within 10% of the true values, for 95% intervals and 5% tests. I recommend r = 10,000 for routine use, and more when accuracy matters.</p><p>[&mldr;]</p><p>We want decisions to depend on the data, not random variation in the Monte Carlo implementation. We used r = 500,000 in the Verizon project.</p></blockquote><p>That&rsquo;s right, half a million resamples! Accuracy mattered in the Verizon case, as the results of the analysis determined whether large penalties were paid or not. In short, <strong>use at least 10-15,000 resamples to be safe</strong>. Don&rsquo;t use 1,000.</p><h2 id=pitfall-3-comparison-of-single-sample-confidence-intervals>Pitfall #3: Comparison of single-sample confidence intervals<a hidden class=anchor aria-hidden=true href=#pitfall-3-comparison-of-single-sample-confidence-intervals>#</a></h2><p>Confidence intervals are commonly used to decide if the difference between two samples is statistically significant. Bootstrapping provides a straightforward way of estimating confidence intervals without making assumptions about the way the data was generated. For example, given two samples, we can obtain confidence intervals for the mean of each sample and end up with a plot like this:</p><figure><a href=overlapping-confidence-intervals.png target=_blank rel=noopener><img sizes="(min-width: 768px) 720px,
100vw" srcset="https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals_hu_6f53c0a1cd45e1b5.png 360w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals_hu_f968c74dc454c925.png 480w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals_hu_6128dea5e140e63a.png 720w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals.png 928w," src=https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals_hu_6ce7c8a79a65b059.png alt="Overlapping confidence intervals" loading=lazy></a></figure><p>When looking at this plot, some people may conclude that the difference between the groups isn&rsquo;t statistically significant because the confidence intervals overlap. However, <strong>overlapping confidence intervals don&rsquo;t imply a lack of statistical significance</strong> because it is possible for the confidence interval of the <em>difference</em> between the sample means to not contain zero. Prasanna Parasurama explained why this happens in <a href=https://towardsdatascience.com/why-overlapping-confidence-intervals-mean-nothing-about-statistical-significance-48360559900a target=_blank rel=noopener>this post</a>. While this issue isn&rsquo;t unique to bootstrapping, it&rsquo;s worth remembering that when comparing two groups, we need to obtain the confidence interval for the difference in the parameter we&rsquo;re comparing, not compare single-sample confidence intervals.</p><p>For a concrete example, consider a case where we&rsquo;re looking at a binary outcomes (yes/no or 1/0), which occur in coin flips or online A/B tests. Sample A consists of 2,150 zeroes and 350 ones, while sample B consists of 2,250 zeroes and 440 ones. As these are fairly large samples, we can use the bootstrap percentile method to obtain 95% confidence intervals for the mean of each sample. As the following figure shows, these intervals overlap. If we use the same method to also obtain a 95% confidence interval for the difference in means between B and A, we see that it doesn&rsquo;t include zero. Therefore, we can say that the difference between B and A is statistically significant, despite the overlap between the single-sample confidence intervals.</p><figure><a href=overlapping-confidence-intervals-significant-difference.png target=_blank rel=noopener><img sizes="(min-width: 768px) 720px,
100vw" srcset="https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals-significant-difference_hu_f74faf0a1cd2034.png 360w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals-significant-difference_hu_ea2d16ab6ee52700.png 480w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals-significant-difference_hu_a061428161bd5098.png 720w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals-significant-difference.png 996w," src=https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/overlapping-confidence-intervals-significant-difference_hu_e3316aeab3bb5318.png alt="Overlapping significance intervals with a statistically significant difference" loading=lazy></a></figure><p>It&rsquo;s worth noting that when analysing binary outcomes, we can make stronger assumptions about the data rather than use bootstrapping to obtain confidence intervals. <a href=https://erikbern.com/2018/10/08/the-hackers-guide-to-uncertainty-estimates.html target=_blank rel=noopener>Erik Bernhardsson suggests using the Beta distribution to obtain single-sample confidence intervals</a>, but as we&rsquo;ve seen, they don&rsquo;t tell us enough about the differences between samples. <a href=https://yanirseroussi.com/2016/06/19/making-bayesian-ab-testing-more-accessible/>I suggested using a Bayesian approach in the past</a>, which makes explicit modelling assumptions that allow us to encode our prior knowledge on the specific environment where the data was generated. For example, when running online A/B tests, we often have a ballpark figure for reasonable results, which can be used in <a href=https://yanirs.github.io/tools/split-test-calculator/ target=_blank rel=noopener>the Bayesian A/B testing calculator I built</a>.</p><h2 id=pitfall-4-unrepresentative-and-dependent-samples>Pitfall #4: Unrepresentative and dependent samples<a hidden class=anchor aria-hidden=true href=#pitfall-4-unrepresentative-and-dependent-samples>#</a></h2><p>While the basic bootstrap makes no assumption about the underlying distribution of the data, it is not assumption-free. For example, when dealing with correlated data points from a time series, using the basic bootstrapping approach is wrong because it assumes that the data points are independent. Instead, a <a href=https://en.wikipedia.org/wiki/Bootstrapping_%28statistics%29#Block_bootstrap target=_blank rel=noopener>block bootstrap</a> should be used – see <a href=https://arch.readthedocs.io/en/latest/bootstrap/timeseries-bootstraps.html target=_blank rel=noopener>the ARCH package</a> for some implementation examples. In addition, bootstrapping doesn&rsquo;t solve problems with the underlying sampling approach. For example, the data sample may not be representative of the population because of its small size, or there may be selection biases and measurement errors. No amount of bootstrapping is going to help with such issues. In general, it always helps to be aware of the data&rsquo;s generation process, e.g., different considerations apply when <a href=https://yanirseroussi.com/2016/06/19/making-bayesian-ab-testing-more-accessible/>dealing with data from online experiments</a> versus <a href=https://yanirseroussi.com/2018/12/24/the-most-practical-causal-inference-book-ive-read-is-still-a-draft/>observational studies</a>.</p><h2 id=conclusion-and-next-steps>Conclusion and next steps<a hidden class=anchor aria-hidden=true href=#conclusion-and-next-steps>#</a></h2><p>While bootstrapping is a powerful method, its initial impression of simplicity is misleading. To draw valid conclusions, it&rsquo;s a good idea to use a package and be aware of considerations that are specific to the analysed data sample. However, if you&rsquo;re already increasing your awareness of the data and its generation process, it may make sense to explicitly encode your assumptions in the model. This is where another hacker resource would come in handy: <a href=http://camdavidsonpilon.github.io/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/ target=_blank rel=noopener><em>Probabilistic Programming & Bayesian Methods for Hackers</em></a> by Cam Davidson-Pilon. Admittedly, it&rsquo;s a bit longer than the average blog post or conference talk, but it is worth reading.</p><p>Going down the bootstrapping rabbit hole has reminded me of an important lesson: Blog posts and talks – especially ones with the word <em>hacker</em> in the title – may be a good starting point, but they shouldn&rsquo;t be relied on for serious work. Instead, it is better to consult peer-reviewed resources and textbooks, such as the <a href=https://arch.readthedocs.io/en/latest/bootstrap/background.html target=_blank rel=noopener>references listed in ARCH&rsquo;s documentation</a>. In my future explorations of bootstrapping and other methods, I will heed Abraham Lincoln&rsquo;s timeless advice to not trust everything I read on the internet.</p><figure><a href=dont-believe-everything-you-read-on-the-internet-lincoln.jpg target=_blank rel=noopener><img sizes="(min-width: 768px) 576px,
100vw" srcset="https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/dont-believe-everything-you-read-on-the-internet-lincoln_hu_fbce05c5dd584fa6.jpg 360w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/dont-believe-everything-you-read-on-the-internet-lincoln_hu_c0eab3be6dce04d8.jpg 480w,
https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/dont-believe-everything-you-read-on-the-internet-lincoln.jpg 576w," src=https://yanirseroussi.com/2019/01/08/hackers-beware-bootstrap-sampling-may-be-harmful/dont-believe-everything-you-read-on-the-internet-lincoln.jpg alt="Abraham Lincoln internet quote" loading=lazy></a></figure><p><strong>Update (Oct 2019)</strong>: I published <a href=https://yanirseroussi.com/2019/10/06/bootstrapping-the-right-way/>a post</a> summarising a talk I gave on the topic, complete with <a href=https://github.com/yanirs/yanirs.github.io/blob/master/talks/bootstrapping-the-right-way/notebook.ipynb target=_blank rel=noopener>simulation code</a> that illustrates the issues with some bootstrapping algorithms.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://yanirseroussi.com/tags/bootstrapping/>Bootstrapping</a></li><li><a href=https://yanirseroussi.com/tags/data-science/>Data Science</a></li><li><a href=https://yanirseroussi.com/tags/hackers/>Hackers</a></li><li><a href=https://yanirseroussi.com/tags/software-engineering/>Software Engineering</a></li><li><a href=https://yanirseroussi.com/tags/statistics/>Statistics</a></li></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on x" href="https://x.com/intent/tweet/?text=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful&amp;url=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f&amp;hashtags=bootstrapping%2cdatascience%2chackers%2csoftwareengineering%2cstatistics"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f&amp;title=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful&amp;summary=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful&amp;source=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f&title=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on whatsapp" href="https://api.whatsapp.com/send?text=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful%20-%20https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on telegram" href="https://telegram.me/share/url?text=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful&amp;url=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Hackers beware: Bootstrap sampling may be harmful on ycombinator" href="https://news.ycombinator.com/submitlink?t=Hackers%20beware%3a%20Bootstrap%20sampling%20may%20be%20harmful&u=https%3a%2f%2fyanirseroussi.com%2f2019%2f01%2f08%2fhackers-beware-bootstrap-sampling-may-be-harmful%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><a href=/contact/#mailing-list-email target=_blank aria-label="subscribe to mailing list" class=mailing-list-link id=mailing-list-link>Subscribe
</a><script>const mailingListButton=document.getElementById("mailing-list-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mailingListButton.style.visibility="visible",mailingListButton.style.opacity="1"):(mailingListButton.style.visibility="hidden",mailingListButton.style.opacity="0")}</script><div class=mailing-list-container><script src=https://f.convertkit.com/ckjs/ck.5.js></script><form class="mailing-list seva-form formkit-form" action=https://app.convertkit.com/forms/6549537/subscriptions method=post data-sv-form=6549537 data-uid=9157759fce data-format=inline data-version=5 data-options='{"settings":{"after_subscribe":{"action":"message","redirect_url":"","success_message":"Success! Now check your email to confirm your subscription."},"recaptcha":{"enabled":false},"return_visitor":{"action":"show","custom_content":""}},"version":"5"}'><div data-style=clean><ul class="formkit-alert formkit-alert-error" data-element=errors data-group=alert></ul><div data-element=fields data-stacked=false><label for=mailing-list-email>Get new posts in your mailbox</label>
<input id=mailing-list-email name=email_address aria-label="Email address" placeholder="Email address" required type=email>
<button data-element=submit>Subscribe</button></div></div></form><div class=footer>Join hundreds of subscribers. No spam or AI-generated slop. Unsubscribe any time.</div></div><section class=comment-section><p class="post-content contact-cta">Public comments are closed, but I love hearing from readers. Feel free to
<a href=/contact/ target=_blank>contact me</a> with your thoughts.</p><div class=comment-level-0 id=comment-3256><div class=comment-header><a href=#comment-3256><img class=comment-avatar src="https://www.gravatar.com/avatar/76347f8703adb9394f74bf150edb9b19?s=50"><p class=comment-info><strong>Ralph Haygood</strong><br><small>2019-01-08 00:09:43</small></p></a></div><div class="comment-body post-content">&ldquo;the basic bootstrap makes no assumption about the underlying distribution of the data&rdquo;: I suppose bootstrapping per se doesn&rsquo;t, but some things people like to use it for do. For example, suppose the original sample is from a Cauchy distribution, and bootstrapping is used to compute a confidence interval around the sample mean; no matter how many bootstrap replicates are used, the computed interval is worthless, because the original distribution doesn&rsquo;t have a mean. Of course, that&rsquo;s an extreme case unlikely to arise in practice, but it immediately raises doubt that guidelines like &ldquo;n ≥ 101 for the bootstrap t&rdquo; should be applied uncritically. As you obviously agree, it&rsquo;s best to know and think about where the data came from when deciding which statistical methods to apply.</div></div><div class=comment-level-0 id=comment-3265><div class=comment-header><a href=#comment-3265><img class=comment-avatar src="https://www.gravatar.com/avatar/f4207c379a26aa8bb4dbb9376b261d48?s=50"><p class=comment-info><strong>Ingo Rohlfing</strong><br><small>2019-01-09 09:52:57</small></p></a></div><div class="comment-body post-content">Learned a lot from the post. One question on the CIs for means and the difference between the means. If the two CIs for the means do not overlap, does it always imply that the difference is significant? Or can the error go in both ways, meaning that it is possible to have non-overlapping CIs and the CI of the difference includes 0?</div></div><div class=comment-level-1 id=comment-3267><div class=comment-header><a href=#comment-3267><img class=comment-avatar src="https://www.gravatar.com/avatar/f4207c379a26aa8bb4dbb9376b261d48?s=50"><p class=comment-info><strong>Ingo Rohlfing</strong><br><small>2019-01-09 12:21:19</small></p></a></div><div class="comment-body post-content">I found the answer myself in one of the posts you refer to: <a href=https://towardsdatascience.com/why-overlapping-confidence-intervals-mean-nothing-about-statistical-significance-48360559900a target=_blank rel=noopener>https://towardsdatascience.com/why-overlapping-confidence-intervals-mean-nothing-about-statistical-significance-48360559900a</a> Non-overlapping CIs imply significance</div></div><div class=comment-level-0 id=comment-3305><div class=comment-header><a href=#comment-3305><img class=comment-avatar src="https://www.gravatar.com/avatar/22d41e5b6ff197cd7900c0514d1bd305?s=50"><p class=comment-info><strong>Boris Gorelik</strong><br><small>2019-01-15 12:38:17</small></p></a></div><div class="comment-body post-content"><p>Reblogged this on <a href=http://gorelik.net/2019/01/15/hackers-beware-bootstrap-sampling-may-be-harmful/ rel=nofollow>Boris Gorelik</a> and commented:</p><p>Anything is better when bootstrapped. Read my co-worker&rsquo;s post on bootstrapping. Also make sure following the links Yanir gives to support his claims</p></div></div></section><p class="post-content data-webring">This site is a part of the <a href=https://randyau.github.io/datawebring/index.html target=_blank rel=noopener>Data People Writing Stuff</a> webring.<br><a class=data-webring-previous-link target=_blank rel=noopener>← previous site</a>
&nbsp; | &nbsp;
<a class=data-webring-next-link target=_blank rel=noopener>next site →</a></p><script>function populateDataWebringLinks(){const e=["https://www.randyau.com/","https://vickiboykis.com/","https://www.counting-stuff.com/","https://gecky.me/","https://qethanm.cc/datawebring/","https://mlops.systems/","https://e2eml.school/","https://blog.harterrt.com/","https://www.jessemostipak.com/","https://elliotgunn.github.io/","https://radbrt.com","https://simon.podhajsky.net/blog/","https://www.heltweg.org/","https://emilyriederer.com/","https://kylestratis.com","https://www.eamoncaddigan.net/"];function t(e){let n,s,t;for(t=e.length-1;t>0;t--)n=Math.floor(Math.random()*(t+1)),s=e[t],e[t]=e[n],e[n]=s}t(e),document.querySelector(".data-webring-previous-link").href=e[0],document.querySelector(".data-webring-next-link").href=e[1]}populateDataWebringLinks()</script></article></main><div class=global-footer><div class=footer><span>Text and figures licensed under <a href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank rel=noopener>CC BY-NC-ND 4.0</a> by <a href=https://yanirseroussi.com/about/>Yanir Seroussi</a>, except where noted otherwise&nbsp;&nbsp;|</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
      <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></div></div><script>const menuTrigger=document.querySelector("#menu-trigger"),menuElem=document.querySelector(".menu");menuTrigger.addEventListener("click",function(){menuElem.classList.toggle("hidden")}),document.body.addEventListener("click",function(e){menuTrigger.contains(e.target)||menuElem.classList.add("hidden")})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>